<%= simple_form_for([:admin, @court], :html => {:multipart => true}) do |f| %>
  <% if @court.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@court.errors.count, "error") %> prohibited this court from being saved:</h2>

      <ul>
      <% @court.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <p>
    Old ID: <%= @court.old_id %> :
    Old Court Type ID: <%= @court.old_court_type_id %>
    Image ref: <%= @court.image %>
  </p>

  <%= f.input :name %>
  <%= f.input :court_number %>
  <%= f.input :slug %>
  <%= f.input :info, :input_html => { :class => "ckeditor"} %>
  <%= image_tag @court.image_file %>
  <%= f.input :image_file %>
  <%= f.input :cci_identifier %>
  <%= f.input :cci_code %>
  <%= f.input :latitude %>
  <%= f.input :longitude %>
  <%= f.association :court_types %>
  <%= f.association :areas_of_law %>

  <%= f.simple_fields_for :addresses do |builder| %>
    <%= render 'address_fields', f: builder %>
  <% end %>
  <%= link_to_add_fields "Add Address", f, :addresses %>

  <%= f.simple_fields_for :contacts do |builder| %>
    <%= render 'contact_fields', f: builder %>
  <% end %>
  <%= link_to_add_fields "Add Contact", f, :contacts %>

  <%= f.simple_fields_for :emails do |builder| %>
    <%= render 'email_fields', f: builder %>
  <% end %>
  <%= link_to_add_fields "Add Email", f, :emails %>

  <%= f.simple_fields_for :court_facilities do |builder| %>
    <%= render 'court_facility_fields', f: builder %>
  <% end %>
  <%= link_to_add_fields "Add Facility", f, :court_facilities %>

  <%= f.simple_fields_for :opening_times do |builder| %>
    <%= render 'opening_time_fields', f: builder %>
  <% end %>
  <%= link_to_add_fields "Add Opening Time", f, :opening_times %>

  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
